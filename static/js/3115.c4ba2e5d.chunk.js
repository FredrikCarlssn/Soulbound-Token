"use strict";(self.webpackChunkreact_frontend=self.webpackChunkreact_frontend||[]).push([[3115],{37292:(t,e,r)=>{r.d(e,{C:()=>i});var a=r(64572),n=r(67685),s=r(90824);class i{constructor(t){(0,a.Z)(this,"featureName",s.d6.name),(0,a.Z)(this,"setRecipient",(0,n.c)((async t=>n.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPrimarySaleRecipient",args:[t]})))),this.contractWrapper=t}async getRecipient(){return await this.contractWrapper.read("primarySaleRecipient",[])}}},83115:(t,e,r)=>{r.r(e),r.d(e,{SmartContract:()=>K});var a=r(64572),n=r(95836),s=r(14026),i=r(90824),o=r(67685),c=r(2257),p=r(97419),d=r(6222),h=r(83374),m=r(44554),g=r(7339),u=r(60874);class l{constructor(t,e){this.contractWrapper=t,this.storage=e}async get(){return this._cachedMetadata||(this._cachedMetadata=await(0,i.K)(this.contractWrapper.address,this.contractWrapper.getProvider(),this.storage,this.contractWrapper.options)),this._cachedMetadata}async extractSources(){const t=await this.get();return(0,i.as)(t,this.storage)}async extractFunctions(){var t;let e;try{e=await this.get()}catch(r){}return(0,i.a6)(i.bn.parse(this.contractWrapper.abi),null===(t=e)||void 0===t?void 0:t.metadata)}async extractEvents(){var t;let e;try{e=await this.get()}catch(r){}return function(t,e){const r=i.bn.parse(t||[]).filter((t=>"event"===t.type)),a=[];for(const n of r){const t=(0,i.a4)(n.name,e,"events");a.push({inputs:n.inputs||[],outputs:n.outputs||[],name:n.name||"unknown",comment:t})}return a}(i.bn.parse(this.contractWrapper.abi),null===(t=e)||void 0===t?void 0:t.metadata)}}let A=function(t){return t[t.None=0]="None",t[t.AddAdmin=1]="AddAdmin",t[t.RemoveAdmin=2]="RemoveAdmin",t}({});const f={startDate:c.O$.from(0),expirationDate:c.O$.from(0),approvedCallTargets:[],nativeTokenLimitPerTransaction:"0"},W=(()=>u.z.object({startDate:n.S,expirationDate:n.E,nativeTokenLimitPerTransaction:i.cz.default(0),approvedCallTargets:u.z.union([u.z.array(i.bd),u.z.literal("*")])}))(),w=(()=>u.z.array(u.z.object({signer:i.bd,makeAdmin:u.z.boolean(),permissions:W})))(),y=[{name:"signer",type:"address"},{name:"approvedTargets",type:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256"},{name:"permissionStartTimestamp",type:"uint128"},{name:"permissionEndTimestamp",type:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],v=[{name:"signer",type:"address"},{name:"isAdmin",type:"uint8"},{name:"approvedTargets",type:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256"},{name:"permissionStartTimestamp",type:"uint128"},{name:"permissionEndTimestamp",type:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}];class P{constructor(t){(0,a.Z)(this,"featureName",i.dp.name),(0,a.Z)(this,"grantAdminPermissions",(0,o.c)((async t=>{const e=await(0,i.aP)(t);return await this.sendSignerPermissionRequest(e,f,A.AddAdmin)}))),(0,a.Z)(this,"revokeAdminPermissions",(0,o.c)((async t=>{const e=await(0,i.aP)(t);return await this.sendSignerPermissionRequest(e,f,A.RemoveAdmin)}))),(0,a.Z)(this,"grantPermissions",(0,o.c)((async(t,e)=>{const r=await(0,i.aP)(t),a=await W.parseAsync(e);if(await this.isAdmin(r))throw new Error("Signer is already an admin. Cannot grant permissions to an existing admin.");if(await this.isSigner(r))throw new Error("Signer already has permissions. Cannot grant permissions to an existing signer. You can update permissions using `updatePermissions`.");return await this.sendSignerPermissionRequest(r,a,A.None)}))),(0,a.Z)(this,"updatePermissions",(0,o.c)((async(t,e)=>{const r=await(0,i.aP)(t),a=await W.parseAsync(e);if(await this.isAdmin(r))throw new Error("Signer is already an admin. Cannot update permissions of an existing admin.");if(!await this.isSigner(r))throw new Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");return await this.sendSignerPermissionRequest(r,a,A.None)}))),(0,a.Z)(this,"revokeAccess",(0,o.c)((async t=>{const e=await(0,i.aP)(t);if(await this.isAdmin(e))throw new Error("Signer is already an admin. Cannot revoke permissions of an admin.");if(!await this.isSigner(e))throw new Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");return await this.sendSignerPermissionRequest(e,{startDate:c.O$.from(0),expirationDate:c.O$.from(0),approvedCallTargets:[],nativeTokenLimitPerTransaction:"0"},A.None)}))),(0,a.Z)(this,"approveTargetForSigner",(0,o.c)((async(t,e)=>{const r=await(0,i.aP)(t),a=await(0,i.aP)(e);if(await this.isAdmin(r))throw new Error("Signer is already an admin. Cannot approve targets for an admin.");if(!await this.isSigner(r))throw new Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");const n=await this.contractWrapper.read("getPermissionsForSigner",[r]);if(n.approvedTargets.includes(e))throw new Error("Target is already approved");const s=[...n.approvedTargets,a];return await this.sendSignerPermissionRequest(r,{startDate:c.O$.from(n.startTimestamp),expirationDate:c.O$.from(n.endTimestamp),approvedCallTargets:s,nativeTokenLimitPerTransaction:n.nativeTokenLimitPerTransaction.toString()},A.None)}))),(0,a.Z)(this,"disapproveTargetForSigner",(0,o.c)((async(t,e)=>{const r=await(0,i.aP)(t),a=await(0,i.aP)(e);if(await this.isAdmin(r))throw new Error("Signer is already an admin. Cannot approve targets for an admin.");if(!await this.isSigner(r))throw new Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");const n=await this.contractWrapper.read("getPermissionsForSigner",[r]);if(!n.approvedTargets.includes(a))throw new Error("Target is currently not approved");const s=n.approvedTargets.filter((t=>p.getAddress(t)!==p.getAddress(a)));return await this.sendSignerPermissionRequest(r,{startDate:c.O$.from(n.startTimestamp),expirationDate:c.O$.from(n.endTimestamp),approvedCallTargets:s,nativeTokenLimitPerTransaction:n.nativeTokenLimitPerTransaction.toString()},A.None)}))),(0,a.Z)(this,"resetAllPermissions",(0,o.c)((async t=>{const e=await w.parseAsync(t);if(this.hasDuplicateSigners(e))throw new Error("Duplicate signers found in input.");const r=[],a=[],n=[],s=await this.getAllAdmins(),i=e.filter((t=>t.makeAdmin)).map((t=>t.signer));s.forEach((async t=>{if(!i.includes(t)){const e=(await this.sendSignerPermissionRequest(t,f,A.RemoveAdmin)).encode();r.push(e)}}));const c=await this.getAllSigners(),p=e.filter((t=>!t.makeAdmin)).map((t=>t.signer));await Promise.all(c.map((async t=>{if(!p.includes(t.signer)){const e=(await this.sendSignerPermissionRequest(t.signer,f,A.None)).encode();n.push(e)}})));for(const o of e)if(o.makeAdmin)(await this.sendSignerPermissionRequest(o.signer,f,A.AddAdmin)).encode();else{const t=(await this.sendSignerPermissionRequest(o.signer,o.permissions,A.None)).encode();a.push(t)}const d=[];return r.forEach((t=>{d.push(t)})),n.forEach((t=>{d.push(t)})),a.forEach((t=>{d.push(t)})),o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[d]})}))),this.contractWrapper=t}getAddress(){return this.contractWrapper.address}hasDuplicateSigners(t){const e={},r=t.map((t=>t.signer));for(const a of r){if(e[a])return!0;e[a]=!0}return!1}parseSignerPermissionsStruct(t){return{startDate:new Date(1e3*parseInt(t.startTimestamp.toString())),expirationDate:new Date(1e3*parseInt(t.endTimestamp.toString())),nativeTokenLimitPerTransaction:c.O$.from(t.nativeTokenLimitPerTransaction),approvedCallTargets:t.approvedTargets}}async sendSignerPermissionRequest(t,e,r){if((0,s.d)(this.contractWrapper,"AccountPermissionsV1")){if(r===A.AddAdmin||r===A.RemoveAdmin)return o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setAdmin",args:[t,r===A.AddAdmin]});{const{payload:r,signature:a}=await this.generateLegacyPayload(t,e);return o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPermissionsForSigner",args:[r,a]})}}const{payload:a,signature:n}=await this.generatePayload(t,e,r);return o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPermissionsForSigner",args:[a,n]})}async generatePayload(t,e,r){const a={signer:t,isAdmin:r.valueOf(),approvedTargets:"*"===e.approvedCallTargets?[i.cx]:e.approvedCallTargets,nativeTokenLimitPerTransaction:d.parseEther(e.nativeTokenLimitPerTransaction),permissionStartTimestamp:e.startDate,permissionEndTimestamp:e.expirationDate,reqValidityStartTimestamp:0,reqValidityEndTimestamp:c.O$.from(Math.floor(new Date(Date.now()+31536e7).getTime()/1e3)),uid:(0,g.I)(void 0)},n=await this.contractWrapper.getChainID(),s=this.contractWrapper.getSigner();(0,m.Z)(s,"No signer available");return{payload:a,signature:await this.contractWrapper.signTypedData(s,{name:"Account",version:"1",chainId:n,verifyingContract:this.getAddress()},{SignerPermissionRequest:v},a)}}async generateLegacyPayload(t,e){if("*"===e.approvedCallTargets)throw new Error("Wildcard call targets are not supported on legacy account permissions contract, please deploy an updated contract factory.");const r={signer:t,approvedTargets:e.approvedCallTargets,nativeTokenLimitPerTransaction:d.parseEther(e.nativeTokenLimitPerTransaction),permissionStartTimestamp:e.startDate,permissionEndTimestamp:e.expirationDate,reqValidityStartTimestamp:0,reqValidityEndTimestamp:c.O$.from(Math.floor(new Date(Date.now()+31536e7).getTime()/1e3)),uid:(0,g.I)(void 0)},a=await this.contractWrapper.getChainID(),n=this.contractWrapper.getSigner();(0,m.Z)(n,"No signer available");return{payload:r,signature:await this.contractWrapper.signTypedData(n,{name:"Account",version:"1",chainId:a,verifyingContract:this.getAddress()},{SignerPermissionRequest:y},r)}}async isAdmin(t){const e=await(0,i.aP)(t);return await this.contractWrapper.read("isAdmin",[e])}async isSigner(t){const e=await(0,i.aP)(t);return await this.contractWrapper.read("isActiveSigner",[e])}async getAllAdmins(){return await this.contractWrapper.read("getAllAdmins",[])}async getAllSigners(){const t=await this.contractWrapper.read("getAllActiveSigners",[]);return await Promise.all(t.map((async t=>({signer:t.signer,permissions:this.parseSignerPermissionsStruct(t)}))))}async getAllAdminsAndSigners(){return[...(await this.getAllAdmins()).map((t=>({isAdmin:!0,signer:t,permissions:{startDate:new Date(0),expirationDate:new Date(0),nativeTokenLimitPerTransaction:c.O$.from(0),approvedCallTargets:[]}}))),...await this.getAllSigners()]}}class T{constructor(t){(0,a.Z)(this,"featureName",i.dq.name),(0,a.Z)(this,"grantAdminPermissions",(0,o.c)((async t=>(0,n.a)(this.accountPermissions,i.dp).grantAdminPermissions.prepare(t)))),(0,a.Z)(this,"revokeAdminPermissions",(0,o.c)((async t=>(0,n.a)(this.accountPermissions,i.dp).revokeAdminPermissions.prepare(t)))),(0,a.Z)(this,"grantPermissions",(0,o.c)((async(t,e)=>(0,n.a)(this.accountPermissions,i.dp).grantPermissions.prepare(t,e)))),(0,a.Z)(this,"updatePermissions",(0,o.c)((async(t,e)=>(0,n.a)(this.accountPermissions,i.dp).updatePermissions.prepare(t,e)))),(0,a.Z)(this,"revokeAccess",(0,o.c)((async t=>(0,n.a)(this.accountPermissions,i.dp).revokeAccess.prepare(t)))),(0,a.Z)(this,"approveTargetForSigner",(0,o.c)((async(t,e)=>(0,n.a)(this.accountPermissions,i.dp).approveTargetForSigner.prepare(t,e)))),(0,a.Z)(this,"disapproveTargetForSigner",(0,o.c)((async(t,e)=>(0,n.a)(this.accountPermissions,i.dp).disapproveTargetForSigner.prepare(t,e)))),(0,a.Z)(this,"resetAllPermissions",(0,o.c)((async t=>(0,n.a)(this.accountPermissions,i.dp).resetAllPermissions.prepare(t)))),this.contractWrapper=t,this.accountPermissions=this.detectAccountPermissions()}detectAccountPermissions(){if((0,s.d)(this.contractWrapper,"AccountPermissions")||(0,s.d)(this.contractWrapper,"AccountPermissionsV1"))return new P(this.contractWrapper)}getAddress(){return this.contractWrapper.address}async isAdmin(t){return(0,n.a)(this.accountPermissions,i.dp).isAdmin(t)}async isSigner(t){return(0,n.a)(this.accountPermissions,i.dp).isSigner(t)}async getAllAdmins(){return(0,n.a)(this.accountPermissions,i.dp).getAllAdmins()}async getAllSigners(){return(0,n.a)(this.accountPermissions,i.dp).getAllSigners()}async getAllAdminsAndSigners(){return(0,n.a)(this.accountPermissions,i.dp).getAllAdminsAndSigners()}}class S{constructor(t){(0,a.Z)(this,"featureName",i.dr.name),(0,a.Z)(this,"createAccount",(0,o.c)((async(t,e)=>{if(await this.isAccountDeployed(t,e))throw new Error("Account already deployed for admin: ".concat(t));let r=h.Y0("");return e&&(r=e),o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"createAccount",args:[t,r],parse:t=>({address:this.contractWrapper.parseLogs("AccountCreated",null===t||void 0===t?void 0:t.logs)[0].args.account,receipt:t})})}))),this.contractWrapper=t,this.events=new s.a(this.contractWrapper)}getAddress(){return this.contractWrapper.address}async predictAccountAddress(t,e){let r=h.Y0("");return e&&(r=e),this.contractWrapper.read("getAddress",[t,r])}async getAssociatedAccounts(t){return this.contractWrapper.read("getAccountsOfSigner",[t])}async getAllAccounts(){return await this.contractWrapper.read("getAllAccounts",[])}async isAccountDeployed(t,e){const r=await this.predictAccountAddress(t,e);return(0,i.az)(r,this.contractWrapper.getProvider())}}var x=r(12083),b=r(88249),E=r(10917),C=r(22974),D=r(60788),R=r(37292),Z=r(35666),k=r(64246),F=r(97471),L=r(69774),N=r(25686),q=r(51583),I=r(17303);r(80518),r(66315),r(13631),r(78262);class O{constructor(t){(0,a.Z)(this,"featureName",i.dI.name),(0,a.Z)(this,"drop",(0,o.c)((async(t,e,r)=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"airdropERC1155",args:[t,e,r],parse:t=>{const e=this.contractWrapper.parseLogs("AirdropFailed",t.logs).map((t=>({recipient:t.args.recipient,tokenId:t.args.tokenId.toNumber(),amount:t.args.amount.toString()})));return{successfulDropCount:r.length-e.length,failedDropCount:e.length,failedDrops:e}}})))),this.contractWrapper=t}getAddress(){return this.contractWrapper.address}}class M{constructor(t){(0,a.Z)(this,"featureName",i.dJ.name),(0,a.Z)(this,"drop",(0,o.c)((async(t,e,r)=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"airdropERC20",args:[t,e,r],parse:t=>{const e=this.contractWrapper.parseLogs("AirdropFailed",t.logs).map((t=>({recipient:t.args.recipient,amount:t.args.amount.toString()})));return{successfulDropCount:r.length-e.length,failedDropCount:e.length,failedDrops:e}}})))),this.contractWrapper=t}getAddress(){return this.contractWrapper.address}}class ${constructor(t){(0,a.Z)(this,"featureName",i.dK.name),(0,a.Z)(this,"drop",(0,o.c)((async(t,e,r)=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"airdropERC721",args:[t,e,r],parse:t=>{const e=this.contractWrapper.parseLogs("AirdropFailed",t.logs).map((t=>({recipient:t.args.recipient,tokenId:t.args.tokenId.toNumber()})));return{successfulDropCount:r.length-e.length,failedDropCount:e.length,failedDrops:e}}})))),this.contractWrapper=t}getAddress(){return this.contractWrapper.address}}class U{constructor(t){(0,a.Z)(this,"featureName",i.dL.name),(0,a.Z)(this,"add",(0,o.c)((async t=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"addExtension",args:[t.extension],parse:async e=>{if(this.contractWrapper.parseLogs("ExtensionAdded",e.logs).length<1)throw new Error("No ExtensionAdded event found");const r=t.extensionAbi?i.bn.parse(t.extensionAbi):(await(0,i.K)(t.extension.metadata.implementation,this.contractWrapper.getProvider(),this.contractWrapper.storage)).abi,a=this.filterAbiForAdd(r,t.extension),n=(0,i.an)([i.bn.parse(this.contractWrapper.abi),a]);return this.contractWrapper.updateAbi(n),e}})))),(0,a.Z)(this,"addDeployed",(0,o.c)((async t=>{let e=t.extensionAbi;if(!e){e=(await(0,i.K)(t.extensionAddress,this.contractWrapper.getProvider(),this.contractWrapper.storage,this.contractWrapper.options)).abi}(0,m.Z)(e,"Require extension ABI");let r="";if(t.extensionMetadata)if("string"===typeof t.extensionMetadata)r=t.extensionMetadata;else{const e=await i.bF.parseAsync(t.extensionMetadata);r=await this.contractWrapper.storage.upload(e)}const a=(0,N.b)(i.bn.parse(e)),n={metadata:{name:t.extensionName,metadataURI:r,implementation:t.extensionAddress},functions:a};return this.add.prepare({extension:n,extensionAbi:e})}))),(0,a.Z)(this,"addPublished",(0,o.c)((async t=>{const e=t.version||"latest",{deployedExtensionAddress:r,extensionMetadata:a}=await this.deployExtension(t.extensionName,t.publisherAddress||i.aL,e);return this.addDeployed.prepare({extensionName:t.extensionName,extensionAddress:r,extensionMetadata:t.extensionMetadataOverride||a})}))),(0,a.Z)(this,"replace",(0,o.c)((async t=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"replaceExtension",args:[t.extension],parse:async e=>{if(this.contractWrapper.parseLogs("ExtensionReplaced",e.logs).length<1)throw new Error("No ExtensionReplaced event found");const r=t.extensionAbi?i.bn.parse(t.extensionAbi):(await(0,i.K)(t.extension.metadata.implementation,this.contractWrapper.getProvider(),this.contractWrapper.storage)).abi,a=this.filterAbiForRemove(i.bn.parse(this.contractWrapper.abi),r),n=this.filterAbiForAdd(r,t.extension),s=(0,i.an)([a,n]);return this.contractWrapper.updateAbi(s),e}})))),(0,a.Z)(this,"replaceDeployed",(0,o.c)((async t=>{let e=t.extensionAbi;if(!e){e=(await(0,i.K)(t.extensionAddress,this.contractWrapper.getProvider(),this.contractWrapper.storage,this.contractWrapper.options)).abi}(0,m.Z)(e,"Require extension ABI");let r="";if(t.extensionMetadata)if("string"===typeof t.extensionMetadata)r=t.extensionMetadata;else{const e=await i.bF.parseAsync(t.extensionMetadata);r=await this.contractWrapper.storage.upload(e)}const a=(0,N.b)(i.bn.parse(e)),n={metadata:{name:t.extensionName,metadataURI:r,implementation:t.extensionAddress},functions:a};return this.replace.prepare({extension:n,extensionAbi:e})}))),(0,a.Z)(this,"replacePublished",(0,o.c)((async t=>{const e=t.version||"latest",{deployedExtensionAddress:r,extensionMetadata:a}=await this.deployExtension(t.extensionName,t.publisherAddress||i.aL,e);return this.replaceDeployed.prepare({extensionName:t.extensionName,extensionAddress:r,extensionMetadata:t.extensionMetadataOverride||a})}))),(0,a.Z)(this,"remove",(0,o.c)((async t=>{const e=await this.getExtensionAddress(t.extensionName);return o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"removeExtension",args:[t.extensionName],parse:async t=>{if(this.contractWrapper.parseLogs("ExtensionRemoved",t.logs).length<1)throw new Error("No ExtensionRemoved event found");const r=(await(0,i.K)(e,this.contractWrapper.getProvider(),this.contractWrapper.storage)).abi,a=this.filterAbiForRemove(i.bn.parse(this.contractWrapper.abi),r);return this.contractWrapper.updateAbi(a),t}})}))),this.contractWrapper=t}getAddress(){return this.contractWrapper.readContract.address}async getAll(){return await this.contractWrapper.readContract.getAllExtensions()}async get(t){return await this.contractWrapper.readContract.getExtension(t)}async getExtensionAddress(t){return(await this.get(t)).metadata.implementation}async getAllFunctions(t){return(await this.get(t)).functions}async getExtensionForFunction(t){let e=t.functionSelector;e||((0,m.Z)(t.functionSignature,"Atleast one of function selector and signature must be provided"),e=q.id(t.functionSignature).substring(0,10));return await this.contractWrapper.readContract.getMetadataForFunction(e)}async getExtensionAddressForFunction(t){return(await this.getExtensionForFunction(t)).implementation}filterAbiForAdd(t,e){const r=new I.vU(t),a=e.functions.map((t=>t.functionSelector));return t.filter((t=>{const e=Object.values(new I.vU([t]).functions);if(0===e.length)return!1;const n=r.getSighash(e[0]);return a.includes(n)}))}filterAbiForRemove(t,e){const r=new I.vU(t),a=new I.vU(e),n=Object.values(a.functions).map((t=>a.getSighash(t)));return t.filter((t=>{const e=Object.values(new I.vU([t]).functions);if(0===e.length)return!1;const a=r.getSighash(e[0]);return!n.includes(a)}))}async deployExtension(t,e){var r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest";const n=await(0,i.aM)(e,t,a,this.contractWrapper.storage,this.contractWrapper.options.clientId,this.contractWrapper.options.secretKey),s=await(0,N.g)(n.metadataUri,this.contractWrapper.storage,this.contractWrapper.getProvider(),"",this.contractWrapper.options.clientId,this.contractWrapper.options.secretKey),o=null===(r=s.find((t=>"implementation"===t.type)))||void 0===r?void 0:r.transaction.predictedAddress,c=s.filter((t=>t.transaction.data&&t.transaction.data.length>0)),p=c.filter((t=>"infra"!==t.type)).map((t=>t.transaction)),d=c.filter((t=>"infra"===t.type)).map((t=>t.transaction)),h=this.contractWrapper.getSigner();(0,m.Z)(h,"Signer is required"),await(0,N.a)(h,d,{});for(const i of p)try{await(0,N.d)(h,i)}catch(g){console.debug("Error deploying contract at ".concat(i.predictedAddress),null===g||void 0===g?void 0:g.message)}return{deployedExtensionAddress:o,extensionMetadata:n.metadataUri}}}class K{get abi(){return i.bn.parse(this.contractWrapper.abi||[])}get royalties(){return(0,n.a)(this.detectRoyalties(),i.d4)}get roles(){return(0,n.a)(this.detectRoles(),i.d3)}get sales(){return(0,n.a)(this.detectPrimarySales(),i.d6)}get platformFees(){return(0,n.a)(this.detectPlatformFees(),i.dn)}get owner(){return(0,n.a)(this.detectOwnable(),i.d5)}get erc20(){return(0,n.a)(this.detectErc20(),i.cL)}get erc721(){return(0,n.a)(this.detectErc721(),i.d0)}get erc1155(){return(0,n.a)(this.detectErc1155(),i.di)}get app(){return(0,n.a)(this.detectApp(),i.d2)}get directListings(){return(0,n.a)(this.detectDirectListings(),i.dk)}get englishAuctions(){return(0,n.a)(this.detectEnglishAuctions(),i.dl)}get offers(){return(0,n.a)(this.detectOffers(),i.dm)}get airdrop20(){return(0,n.a)(this.detectAirdrop20(),i.dJ)}get airdrop721(){return(0,n.a)(this.detectAirdrop721(),i.dK)}get airdrop1155(){return(0,n.a)(this.detectAirdrop1155(),i.dI)}get accountFactory(){return(0,n.a)(this.detectAccountFactory(),i.dr)}get account(){return(0,n.a)(this.detectAccount(),i.dq)}get extensions(){return(0,n.a)(this.detectBaseRouter(),i.dL)}get chainId(){return this._chainId}constructor(t,e,r,a){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new i.cu(t,e,r,n,a);this._chainId=o,this.storage=a,this.contractWrapper=c,this.events=new s.a(this.contractWrapper),this.encoder=new x.C(this.contractWrapper),this.interceptor=new b.C(this.contractWrapper),this.estimator=new s.G(this.contractWrapper),this.publishedMetadata=new l(this.contractWrapper,this.storage),this.metadata=new s.C(this.contractWrapper,i.bk,this.storage)}onNetworkUpdated(t){this.contractWrapper.updateSignerOrProvider(t)}getAddress(){return this.contractWrapper.address}prepare(t,e,r){return o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:t,args:e,overrides:r})}async call(t,e,r){return this.contractWrapper.call(t,e,r)}detectRoyalties(){if((0,s.d)(this.contractWrapper,"Royalty")){const t=new s.C(this.contractWrapper,i.bk,this.storage);return new E.C(this.contractWrapper,t)}}detectRoles(){if((0,s.d)(this.contractWrapper,"Permissions"))return new D.C(this.contractWrapper,i.G)}detectPrimarySales(){if((0,s.d)(this.contractWrapper,"PrimarySale"))return new R.C(this.contractWrapper)}detectPlatformFees(){if((0,s.d)(this.contractWrapper,"PlatformFee"))return new C.C(this.contractWrapper)}detectErc20(){if((0,s.d)(this.contractWrapper,"ERC20"))return new k.f(this.contractWrapper,this.storage,this.chainId)}detectErc721(){if((0,s.d)(this.contractWrapper,"ERC721"))return new F.h(this.contractWrapper,this.storage,this.chainId)}detectErc1155(){if((0,s.d)(this.contractWrapper,"ERC1155"))return new Z.e(this.contractWrapper,this.storage,this.chainId)}detectOwnable(){if((0,s.d)(this.contractWrapper,"Ownable"))return new E.a(this.contractWrapper)}detectApp(){const t=new s.C(this.contractWrapper,i.bk,this.storage);return(0,s.d)(this.contractWrapper,"AppURI")||(0,s.d)(this.contractWrapper,"ContractMetadata")?new s.b(this.contractWrapper,t,this.storage):void 0}detectDirectListings(){if((0,s.d)(this.contractWrapper,"DirectListings"))return new L.M(this.contractWrapper,this.storage)}detectEnglishAuctions(){if((0,s.d)(this.contractWrapper,"EnglishAuctions"))return new L.a(this.contractWrapper,this.storage)}detectOffers(){if((0,s.d)(this.contractWrapper,"Offers"))return new L.b(this.contractWrapper,this.storage)}detectBaseRouter(){if((0,s.d)(this.contractWrapper,i.dL.name))return new U(this.contractWrapper)}detectAirdrop20(){if((0,s.d)(this.contractWrapper,"AirdropERC20"))return new M(this.contractWrapper)}detectAirdrop721(){if((0,s.d)(this.contractWrapper,"AirdropERC721"))return new $(this.contractWrapper)}detectAirdrop1155(){if((0,s.d)(this.contractWrapper,"AirdropERC1155"))return new O(this.contractWrapper)}detectAccountFactory(){if((0,s.d)(this.contractWrapper,i.dr.name))return new S(this.contractWrapper)}detectAccount(){if((0,s.d)(this.contractWrapper,i.dq.name))return new T(this.contractWrapper)}}}}]);
//# sourceMappingURL=3115.c4ba2e5d.chunk.js.map